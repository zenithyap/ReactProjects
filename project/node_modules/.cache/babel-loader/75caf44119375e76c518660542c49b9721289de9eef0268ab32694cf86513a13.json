{"ast":null,"code":"import _slicedToArray from\"C:/Users/Zenith Yap/ReactProjects/project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import NavigationBar from\"./NavigationBar\";import'./text.css';import{useState}from\"react\";import moment from'moment';import Axios from'axios';import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EntryList(_ref){var list=_ref.list,deleteEntry=_ref.deleteEntry;return/*#__PURE__*/_jsx(\"div\",{className:\"entry-list\",children:list&&list.map(function(item,i){console.log(item.id);return/*#__PURE__*/_jsx(\"div\",{className:\"card mb-2 border-dark\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body bg-dark text-white\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"card-title\",children:item.date}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text>\",children:item.text}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger btn-sm\",onClick:function onClick(){return deleteEntry(item.id);},children:\"Delete\"})]})},i);})});}// useRef.current.focus() purpose?\nfunction Entry(_ref2){var addEntry=_ref2.addEntry,getRecord=_ref2.getRecord;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var handleOnChange=function handleOnChange(e){return setMessage(e.target.value);};var handleOnSubmit=function handleOnSubmit(e){e.preventDefault();if(message&&message.trim().length>0){addEntry(message);}setMessage(\"\");};return/*#__PURE__*/_jsx(\"form\",{onSubmit:handleOnSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control mb-2\",value:message,onChange:handleOnChange,type:\"text\"}),/*#__PURE__*/_jsx(\"button\",{disabled:message.trim().length===0,className:\"btn mb-2 btn-success form-control\",type:\"submit\",children:\"Submit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn mb-2 btn-success form-control\",onClick:getRecord,children:\"Show Record\"})]})});}export default function Record(){var getRecord=function getRecord(){axios.get('http://localhost:3001/record').then(function(response){setRecordArray(response.data);});};var handleStoreEntry=function handleStoreEntry(entry){Axios.post('http://localhost:3001/create',{date:moment(Date.now()).format('L'),text:entry}).then(function(){console.log(\"Success\");getRecord();});};var handleDeleteEntry=function handleDeleteEntry(index){Axios.delete(\"http://localhost:3001/delete/\".concat(index)).then(function(){getRecord();});};var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),recordArray=_useState4[0],setRecordArray=_useState4[1];return/*#__PURE__*/_jsxs(\"div\",{className:\"bg\",children:[/*#__PURE__*/_jsx(NavigationBar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"Record\"}),/*#__PURE__*/_jsx(Entry,{addEntry:handleStoreEntry,getRecord:getRecord}),/*#__PURE__*/_jsx(EntryList,{list:recordArray,deleteEntry:handleDeleteEntry})]})]});}","map":{"version":3,"names":["NavigationBar","useState","moment","Axios","axios","EntryList","list","deleteEntry","map","item","i","console","log","id","date","text","Entry","addEntry","getRecord","message","setMessage","handleOnChange","e","target","value","handleOnSubmit","preventDefault","trim","length","Record","get","then","response","setRecordArray","data","handleStoreEntry","entry","post","Date","now","format","handleDeleteEntry","index","delete","recordArray"],"sources":["C:/Users/Zenith Yap/ReactProjects/project/src/pages/Record.js"],"sourcesContent":["import NavigationBar from \"./NavigationBar\";\r\nimport './text.css'\r\nimport { useState } from \"react\"\r\nimport moment from 'moment'\r\nimport Axios from 'axios'\r\nimport axios from \"axios\";\r\n\r\nfunction EntryList({ list, deleteEntry }) {\r\n  return (\r\n    <div className='entry-list'>\r\n      {\r\n        list && list.map((item, i) => {\r\n          console.log(item.id)\r\n          return (\r\n            <div className='card mb-2 border-dark' key={i}>\r\n              <div className='card-body bg-dark text-white'>\r\n                <h4 className='card-title'>{item.date}</h4>\r\n                <p className='card-text>'>{item.text}</p>\r\n                <button className='btn btn-danger btn-sm' onClick={() => deleteEntry(item.id)}>Delete</button>\r\n              </div>\r\n            </div>\r\n          )\r\n        })\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\n// useRef.current.focus() purpose?\r\nfunction Entry({ addEntry, getRecord }) {\r\n  const [message, setMessage] = useState(\"\")\r\n  const handleOnChange = e => setMessage(e.target.value)\r\n  const handleOnSubmit = e => {\r\n    e.preventDefault()\r\n    if (message && message.trim().length > 0) {\r\n      addEntry(message)\r\n    }\r\n    setMessage(\"\")\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleOnSubmit}>\r\n      <div className=\"form-group\">\r\n        <textarea\r\n          className=\"form-control mb-2\"\r\n          value={message}\r\n          onChange={handleOnChange}\r\n          type=\"text\"\r\n        />\r\n        <button disabled={message.trim().length === 0}\r\n          className=\"btn mb-2 btn-success form-control\" type=\"submit\">\r\n          Submit\r\n        </button>\r\n        <button\r\n          className=\"btn mb-2 btn-success form-control\" onClick={getRecord}>\r\n          Show Record\r\n        </button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default function Record() {\r\n  const getRecord = () => {\r\n    axios.get('http://localhost:3001/record').then((response) => {\r\n      setRecordArray(response.data)\r\n    })\r\n  }\r\n\r\n  const handleStoreEntry = (entry) => {\r\n    Axios.post('http://localhost:3001/create', {\r\n      date: moment(Date.now()).format('L'),\r\n      text: entry\r\n    }).then(() => {\r\n      console.log(\"Success\")\r\n      getRecord()\r\n    })\r\n  }\r\n\r\n  const handleDeleteEntry = (index) => {\r\n    Axios.delete(`http://localhost:3001/delete/${index}`\r\n    ).then(() => {\r\n      getRecord()\r\n    })\r\n  }\r\n\r\n  const [recordArray, setRecordArray] = useState([]);\r\n\r\n  return (\r\n    <div className=\"bg\">\r\n      <NavigationBar />\r\n      <div className=\"container\">\r\n        <h1 className='title'>\r\n          Record\r\n        </h1>\r\n        <Entry addEntry={handleStoreEntry} getRecord={getRecord} />\r\n        <EntryList list={recordArray} deleteEntry={handleDeleteEntry} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}